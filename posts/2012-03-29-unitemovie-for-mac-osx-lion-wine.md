---
title: UniteMovie for Mac OSX Lion (+Wine)
author: KEINOS
type: post
date: 2012-03-28T16:00:00+00:00
url: /20120329_867
page_type:
  - default
post_views_count:
  - 629
categories:
  - MacOSX
  - WINE
  - Windows
tags:
  - Mac OSX 10.7 Lion
  - UniteMovie
  - WineBottler
  - Wineskin Winery

---
<div class="section">
  <h4 id="outline__1">
    分割された&#8221;.3gp&#8221;形式の動画を１つにまとめるMac用ツールをWindowsのフリーアプリから作る方法
  </h4>
  
  <p>
    拡張子が&#8221;.3gp&#8221;の、複数動画ファイルを1つに結合するフリーのツールで、MacOSX(LION)対応のものを探しているが「Windowsの物しかないやんけ」というかた向け。WMV形式もいけます。
  </p>
  
  <p>
    Windowsアプリで手軽に使える&#8221;UniteMovie&#8221;というフリーの動画結合アプリを、Mac OSX Lionで使えるようにしたので、そのメモ。他のWindowsアプリであっても同様に作れると思います。
  </p>
  
  <p>
    基本的には王道の&#8221;Wine&#8221;を使うのですが、&#8221;MikuInstaller&#8221;や&#8221;WineBottler&#8221;ではなく、色々試した結果、&#8221;Wineskin&#8221;というアプリを使うのが楽でした。
  </p>
  
  <p>
    &#8220;MikuInstaller&#8221;も良いのですが、単体アプリとして起動するようにしたい（起動までの工数を減らしたい）のと、&#8221;WineBottler&#8221;だと内包しているWineのバージョンが古いためです。
  </p>
  
  <p>
    主な流れは、空のアプリ(Wrapper)を作って、その中にエンジンのWineと、アプリ本体であるWindowsアプリを入れるだけです。（必要なら各種コーデックや動画に対応させるDLLやEXEも）
  </p>
  
  <p>
    具体的には、&#8221;Wine&#8221;というWindowsアプリをMacで動かしてくれるエンジンと、Windowsアプリ本体を、&#8221;Wineskin&#8221;を使って「まるごとラッピング」してしまって、あたかも１つのアプリのように見せる感じです。<br />というより、Macのアプリ(.app)がそもそもそういった動きなので、Windowsと違ってゴミ箱にアプリを捨てるだけでアンインストール出来るわけです。PortableAppsのアプリ的な発想ですね。
  </p>
  
  <h5 id="outline__1_1">
    Wineskinの主な使い方（けっこう具体的な手順）
  </h5>
  
  <p>
    ■&#8221;Wineskin&#8221;のダウンロードとインストールと起動
  </p>
  
  <p>
    まずは&#8221;Wineskin&#8221;をダウンロードして、アプリケーション・フォルダにコピーします。
  </p>
  
  <pre>
Wineskin
<del datetime="2014-01-18T20:28:12+09:00"><a href="http://wineskin.doh123.com/" target="_blank">http://wineskin.doh123.com/</a></del>
<a href="http://wineskin.urgesoftware.com/" target="_blank">http://wineskin.urgesoftware.com/</a>
</pre>
  
  <ul>
    <li>
      &#8220;Downloads&#8221;から&#8221;Wineskin Winery 1.x (click me to download)&#8221;のリンクをクリックしてダウンロードします。
    </li>
    <li>
      ZIPファイルでダウンロードされるので、開いて解凍します。
    </li>
    <li>
      解凍されて出来た&#8221;Wineskin Winery&#8221;を、アプリケーションに移動します。
    </li>
    <li>
      &#8220;Wineskin Winery&#8221;を起動します。
    </li>
  </ul>
  
  <p>
    ■Wineskinのアップデート
  </p>
  
  <ul>
    <li>
      [Wrapper Version]が空、もしくはアップデートがあるようであれば&#8221;Update&#8221;ボタンを押してアップデートする
    </li>
  </ul>
  
  <p>
    ■エンジンをインストール（最新のWineをダウンロード）
  </p>
  
  <ul>
    <li>
      [Installed Engines] の「＋」ボタンを押して&#8221;Add Engine&#8221;ウィンドウを開く
    </li>
    <li>
      最新の「WS8Wine～」を選択して「Download and Install」ボタンを押して「OK」でダウンロードする
    </li>
  </ul>
  
  <p>
    ■空のアプリを作る（ラッパーの作成）
  </p>
  
  <ul>
    <li>
      &#8220;Create New Blank Wrapper&#8221;ボタンを押してアプリ名を入れます。<br />&#8220;UniteMovie&#8221;がいいでしょう。日本語名は使わない方がいいです。
    </li>
    <li>
      空のアプリが作られ、先にダウンロードしたWineのコピーが始まります。
    </li>
    <li>
      &#8220;Wine Gecko Installer&#8221;ウィンドウが開き、インストールするか聞いてきます。<br />アプリがアップデートや最新版の確認などにネットにアクセスするタイプであれば、&#8221;Install&#8221;ボタンでインストールします。通常は無視でいいですが、&#8221;UniteMovie&#8221;は起動時にバージョンチェックをしているので、&#8221;Install&#8221;します。
    </li>
    <li>
      &#8220;Wrapper Creation Finished&#8221;ウィンドウが立ち上がったら、&#8221;Created In:～&#8221;の項目をチェックして、空のアプリが作られた場所を確認します。<br />&#8220;OK&#8221;を押すか&#8221;View wrapper in Finder&#8221;ボタンで&#8221;Finder&#8221;を開きます。<br />※厳密には空のアプリでなくて、スッカラカンの擬似的なWindows環境です。
    </li>
  </ul>
  
  <p>
    ■日本語フォントをインストールする
  </p>
  
  <ul>
    <li>
      日本語フォントを用意します<br />※アプリがフォントを用意してない場合、一般的に使用されるフォントは、システムの日本語フォント（例えば&#8221;msgothic.ttc&#8221;, &#8220;msmincho.ttc&#8221;, &#8220;meiryo.ttc&#8221;, &#8220;meiryob.ttc&#8221; など）なので、BOOTCAMPでWindowsが入ってない場合は、&#8221;mona&#8221;などフリーのフォントを使ってリネームするなど工夫してください。
    </li>
    <li>
      先に作った空のアプリを右クリック（Control+クリック）して&#8221;パッケージの内容を表示&#8221;でアプリ内部をFinerで開きます。
    </li>
    <li>
      &#8220;drive_c&#8221;フォルダにフォントをコピーします。<br />(&#8220;/drive_c/windows/Fonts&#8221;)<br />この&#8221;drive_c&#8221;は&#8221;/Contents/Resources/drive_c/&#8221;のショートカット（エイリアス）です
    </li>
  </ul>
  
  <p>
    ■空のアプリに実体（Windowsアプリ本体）を入れる
  </p>
  
  <p>
    &#8220;UniteMovie&#8221;をダウンロードして解凍します。
  </p>
  
  <pre>
AnonyMouseの部屋
<a href="http://red.sakura.ne.jp/~anonymouse/" target="_blank">http://red.sakura.ne.jp/~anonymouse/</a>
</pre>
  
  <ul>
    <li>
      画面左上の「ダウンロード」からたどって&#8221;unitemovie.zip&#8221;をダウンロードします。
    </li>
    <li>
      開いて解凍すると、&#8221;unitemovie&#8221;というフォルダが出来上がります。<br />※UniteMovieはインストーラーのない（コピーすれば動く）タイプのツールです。
    </li>
    <li>
      フォントの項目で開いた&#8221;drive_c&#8221;フォルダの中にある&#8221;Program Files&#8221;フォルダに&#8221;unitemovie&#8221;フォルダごとコピーします。
    </li>
    <li>
      追加のコーデックなど（DLLなど）がある場合は&#8221;unitemovie&#8221;フォルダの中にコピーします。
    </li>
  </ul>
  
  <p>
    ■アプリの関連づけ
  </p>
  
  <p>
    Mac版のアプリ（ラッパー）をクリックしたときに起動させるWindows側のアプリを指定します。
  </p>
  
  <ul>
    <li>
      Mac版&#8221;UniteMovie&#8221;アプリを右クリック→「パッケージの内容を表示」から&#8221;Wineskin&#8221;アプリを起動します。
    </li>
    <li>
      &#8220;Advanced&#8221;ボタンから&#8221;Wineskin Advanced&#8221;ウィンドウを開き&#8221;Kill Wineskin Processes&#8221;ボタンを押して余計なWine系の動作を止めます。<br />※これは念のためで、インストール中に失敗して動かず起動しているDLL（アプリ）があったり、X11といった動作に大事なアプリが余計な事をしていて動かないといった事がないようにです。
    </li>
    <li>
      &#8220;Browse&#8221;ボタンで&#8221;unitemovie.exe&#8221;を選択し、&#8221;Done&#8221;→&#8221;Quit&#8221;でWineskin設定アプリを終了させます。<br />※通常は&#8221;/Program Files/unitemovie/&#8221;に&#8221;unitemovie.exe&#8221;があります。
    </li>
  </ul>
  
  <p>
    ■アプリの起動
  </p>
  
  <ul>
    <li>
      さっそく作ったMac版アプリを起動してみます。<br />&#8220;/Users/<アカウント>/Applications/Wineskin/&#8221;にあると思います。
    </li>
  </ul>
  
  <p>
    ■インストーラー付きのアプリを追加する場合（オプション）
  </p>
  
  <p>
    RealProducerやAsfBinなど、インストーラーがあるコーデックを追加したい場合は下記手順で行います。
  </p>
  
  <ul>
    <li>
      上記の&#8221;drive_c&#8221;フォルダと同じ場所に&#8221;Wineskin&#8221;という設定＆管理用アプリがあるので、開きます。
    </li>
    <li>
      &#8220;Install windows Software&#8221;ボタンからインストールしたいWinアプリ（インストーラー）を選ぶとインストールが始まります。<br />注意点 <ul>
        <li>
          本体に関連したもの意外の余計なアプリは入れない
        </li>
        <li>
          「デスクトップにアイコンを作成」「クイック起動にアイコンを作成」といったたぐいのチェックは外す。
        </li>
        <li>
          ブラウザやツールといった広告系のサードパーティのアプリは入れないようにする。
        </li>
      </ul>
    </li>
    
    <li>
      インストール先は基本そのまま(&#8220;C:\Program Files\～&#8221;)でOK
    </li>
    <li>
      &#8220;Choose Executable&#8221;ウィンドウが立ち上がったら、Mac側でアイコンをクリックした際にWindows側の、どのEXEファイルを開くか（&#8221;Program Files&#8221;にインストールしたアプリ本体）を指定し、関連付けをします。
    </li>
  </ul>
  
  <p>
    ここでは、&#8221;/Program Files/unitemovie/unitemovie.exe&#8221;を選びます。
  </p>
  
  <ul>
    <li>
      Windeskin設定アプリを閉じます
    </li>
  </ul>
  
  <p>
    【おすすめ】
  </p>
  
  <p>
    一番楽で確実なのはWindows環境で動く&#8221;unitemovie&#8221;のアプリフォルダーの中身をコピーしてしまうことです。また、他のアプリの場合でも言えることですが、<a href="http://d.hatena.ne.jp/KEINOS/20120330" target="_blank">関連DLLを全部アプリと同じフォルダに入れてしまう</a>のも、1つの強引な解決方法です。
  </p>
  
  <p>
    ■起動時のアプリ変更（オプション）
  </p>
  
  <p>
    起動時のEXEファイルを、別のアプリに変更させる方法です。
  </p>
  
  <ul>
    <li>
      Mac版アプリを右クリック→「パッケージの内容を表示」から&#8221;Wineskin&#8221;アプリを起動します。
    </li>
    <li>
      &#8220;Advanced&#8221;ボタンから&#8221;Wineskin Advanced&#8221;ウィンドウを開き&#8221;Kill Wineskin Processes&#8221;ボタンを押して余計なWine系の動作を止めます。<br />※これは念のためで、インストール中に失敗して動かず起動しているDLL（アプリ）があったり、X11といった動作に大事なアプリが余計な事をしていて動かないといった事がないようにです。
    </li>
  </ul>
  
  <p>
    →&#8221;Browse&#8221;ボタンで他のEXEファイルを選択し、&#8221;Done&#8221;→&#8221;Quit&#8221;でWineskin設定アプリを終了させます。
  </p>
  
  <h4 id="outline__2">
    ■所感
  </h4>
  
  <p>
    iPad, iPhone, iPodTouchといったiOSデバイスを使っていると、GoodReaderなどが大活躍すると思います。
  </p>
  
  <p>
    そんななか、&#8221;.3gp&#8221;形式の動画などをダウンロードすると複数に分割されている事が多いので、これらを１つの動画にまとめたい事があると思います。
  </p>
  
  <p>
    ただの結合であれば&#8221;Automator&#8221;にシェルのコマンドを実行させるアプリを作れるのですが、動画の場合は時間情報も書き換えないといけないので、単純な結合ではできません。
  </p>
  
  <p>
    Windowsだと、シンプルだけど無料のツール（アプリ）が色々とありますが、Macの場合はこういったフリーソフトが意外に少ない。あっても&#8221;3gp&#8221;に対応していない、など。
  </p>
  
  <p>
    そこで、使い慣れた&#8221;UniteMovie&#8221;を使おうとBOOTCAMPかFUSIONを起動させるわけですが、「うーん、なんかなぁ」と感じたのです。
  </p>
  
  <p>
    私は&#8221;PortableApps&#8221;派なので、今後もこういったシンプルなツールを使う事になるだろうと思ったので、いっそのこと色々試そうと思い、今回の&#8221;Wineskin&#8221;にたどりつきました。
  </p>
  
  <p>
    欠点が一つ。
  </p>
  
  <p>
    １アプリごとに擬似的なWindows環境がある（Wineを内容している）ので、たかが結合するだけのアプリなのに400MBもあることです。(>_<)
  </p>
  
  <p>
    そういう意味では、&#8221;MikuInstaller&#8221;のように複数アプリをインストールすること前提としたものもありかもしれません。
  </p>
  
  <p>
    でも、ストレスなく起動するし、HDDの容量もまだあるから、良しとしています。
  </p>
  
  <p>
    なんか、徐々にOSが&#8221;OSX&#8221;か&#8221;Windows&#8221;か、とかって議論は無意味になってきた気がします。ハイブリッドというかマッシュアップというか。iMacでWindows使ってると特に。なんとなくなんですけど。
  </p>
</div>