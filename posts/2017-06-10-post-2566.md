---
title: PHPのFORループで任意の数ぶんカウントアップさせていきたい
author: KEINOS
type: post
date: 2017-06-09T16:37:59+00:00
url: /20170610_2566
featured_image: /wp-content/uploads/2017/05/PHP-logo.svg.png
page_type:
  - default
post_views_count:
  - 955
categories:
  - PHP
  - アルゴリズム・仕組み
tags:
  - for()

---
PHPでforを使ってループを行う際に「n数ずつカウントアップ」させたい場合の構文。以下は８つの場合（赤字の+=に注目）。

<pre><code class="php">for( $i = 0; $i &lt; 50; $i &lt;span class="red">+=&lt;/span> 8 ){&lt;br />
    echo $i . ',' // 0,8,16,24,32,40,48,&lt;br />
}</code></pre>

古いコードを見直していたら、ループ処理で数値を2つ飛びや７つ飛びなどを行っている箇所で下記のような箇所を見つけました。

<pre class="hljs"><code class='php'>for( $i = 1; $i &lt; $max; $i++ ){
    $i = $i + 1;
    // ループ処理
}</code></pre>

何をしているのかと思ったら、"2,4,6,8,10..."と２つ飛びの数値が欲しかったようです。

動くことは動くのですが、後から見ると「一体何をしているんだ」と思ってしまう書き方です。おそらくforの基本文法のサンプルをそのまま使わないといけないと思ったのでしょう。

単純に、n個ずつカウントアップさせる場合は冒頭の方法がベストだと思います。

しばらくコードを読んでいると、経過日数に対して、奇数日と偶数日、７日ごとに処理をしたかったようです。その場合は、剰余演算といって割った余りの数をつかった方法で下記のようにループ内で処理するとシンプルだと思います。

<pre class="hljs"><code class='php'>for( $i = 1; $i &lt; $max; $i++ ){
    if( $i % 2 ){
        // 奇数日の処理
    } else {
        // 偶数日の処理
    }

    if( !($i % 7) ){
        //７日ごとの処理
    }
}</code></pre>

過去の自分含め、人の書いたコードを読むのは反面教師を含め勉強になります。でも、どうせ書くならワクワクするコードが書きたいものです。